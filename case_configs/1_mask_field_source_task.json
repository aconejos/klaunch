{
    "name": "mdb-kafka-source-default",
    "config": {
    "connector.class": "com.mongodb.kafka.connect.MongoSourceConnector",
    "connection.uri": "mongodb://host.docker.internal:27017,host.docker.internal:27018,host.docker.internal:27019/?replicaSet=replset",
    "pipeline":"[{\"$match\": {\"ns.db\": {\"$regex\": \"^database.*$\"}}}]",
    "transforms": "routeByDatabase",
    "transforms.routeByDatabase.type": "org.apache.kafka.connect.transforms.RegexRouter",
    "transforms.routeByDatabase.regex": "([^.]+)\\..*",
    "transforms.routeByDatabase.replacement": "$1_topic",    "tasks.max": "1",
    "poll.max.batch.size": "1000",
    "poll.await.time.ms": "5000",
    "change.stream.full.document": "updateLookup",
    "change.stream.full.document.before.change": "whenAvailable",
    "publish.full.document.only": "false",
    "output.format.value": "schema",
    "output.schema.infer.value": "true"
    } 
}